+function(e){var f=function(m,l){this.$element=e(m);this.$indicators=this.$element.find(".carousel-indicators");this.$itemsParent=this.$element.find(".carousel-inner").first();this.$wrapper=null;this.options=l;this.interval=null;this.$active=null;this.$items=null;this.layout=null;this.lastItemIid=0;this.slidingTimer=null;this.disabledControls=true;this.disabledSliding=true;if(this.$itemsParent.children(".item.active").length>0){this.$active=this.$itemsParent.children(".item.active").first()}else{this.$active=this.$itemsParent.children(".item").first();this.$active.addClass("active")}var p=true;if(this.$itemsParent.children(".item.active").length>1){this.$itemsParent.children(".item.active").each(function(){if(p){return}e(this).removeClass("active")})}if(this.$itemsParent.children(".carousel-inner").length>1){p=true;this.$itemsParent.children(".carousel-inner").each(function(){if(p){return}e(this).detach()})}this.$itemsParent.wrap('<div class="visor-wrapper" data-visor-align="'+l.align+'">');this.$wrapper=this.$itemsParent.parent();var k=this;this.$itemsParent.children(".item").each(function(r){e(this).attr("data-iid",r);k.lastItemIid=r});this.$itemsParent.contents().filter(function(){return this.nodeType==3}).detach();if(this.options.align=="center"&&this.$itemsParent.children(".item").length>1){var j=this.$itemsParent.children(".item"),o=this.$itemsParent.children(":first-child");j.each(function(){e(this).clone().insertBefore(o)})}this.$items=this.$itemsParent.children(".item");this.$items.each(function(){if(e(this).is(".col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12")){k.$element.addClass("col-xs")}if(e(this).is(".col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12")){k.$element.addClass("col-sm")}if(e(this).is(".col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12")){k.$element.addClass("col-md")}if(e(this).is(".col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12")){k.$element.addClass("col-lg")}});var q=true;var n=function(){k.disableControls();k.disableSliding();setTimeout(function(){k.layout=a.call(k);k.$element.attr("data-layout",k.layout);b.call(k,k.$active);if(q){k.enableSliding();q=false}k.enableSliding();k.enableControls()},150)};n();this.$element.trigger("selected.bs.visorcarousel",[k.$active]);e(window).resize(n);this.options.keyboard&&this.$element.on("keydown.bs.visorcarousel",e.proxy(this.keydown,this));this.options.pause=="hover"&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.visorcarousel",e.proxy(this.pause,this)).on("mouseleave.bs.visorcarousel",e.proxy(this.cycle,this))};f.VERSION="1.0.0";f.TRANSITION_DURATION=600;f.DEFAULTS={interval:5000,pause:"hover",wrap:true,keyboard:true,align:"center",anim:"flip-in-out"};f.ANIMATIONS={"flip-in-out":{fold:function(l,j){var k;k=j.addClass("fold").addClass("anim-flip-in-out").clone();k._visor_original=j;i(j,function(){setTimeout(function(){k.removeClass("raise").removeClass("anim-flip-in-out");j.detach()},150)});return k},raise:function(k,j){j.addClass("raise");setTimeout(function(){j.removeClass("fold")},100);return j}}};function d(j){if(!j){return 0}return Math.round(parseFloat(j.replace("px","")))}function i(k,j){k.on("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",j);return k}function a(){if(this.$items.length<=1){return"landscape"}else{var j=this.$itemsParent.children(".item:first-child"),k=this.$itemsParent.children(".item:last-child");if(k.offset().left>j.offset().left){this.$itemsParent.css({top:"",bottom:""});return"landscape"}this.$itemsParent.css({left:"",right:""});return"portrait"}}function b(m){var k=0,o=0,p=0,n=0,l=this;this.$itemsParent.children(".item.active").removeClass("active");l.$active=m.addClass("active");this.$indicators.children(".active").removeClass("active");this.$indicators.children("[data-slide-to="+m.data("iid")+"]").addClass("active");var q=false;this.$itemsParent.children(".item").each(function(){var r="outerHeight",s=e(this);if(l.layout=="landscape"){r="outerWidth"}if(!q){if(s.hasClass("active")){p=s[r]();n=l.$wrapper[r=="outerHeight"?"height":"width"]();q=true;return}k+=s[r]()}else{o+=s[r]()}});var j;switch(this.options.align){case"top-left":j="top";if(this.layout=="landscape"){j="left"}this.$itemsParent.css(j,"-"+k+"px");break;case"bottom-right":j="bottom";if(this.layout=="landscape"){j="right"}this.$itemsParent.css(j,"-"+o+"px");break;default:case"center":j="top";if(this.layout=="landscape"){j="left"}this.$itemsParent.css(j,"-"+Math.round(((k+o)/2)-(n/2))-p+"px");break}}f.prototype.slideTo=function(s){if(s.length!=1){return}if(s.hasClass("active")){return}if(this.disableSliding()){return}var n=this.$items.index(s),r=this.$items.index(this.$items.filter(".active")),p=(r>n),j=0,o=this.$items,q=0,m,l=this.options.anim,t=this;if(!p){j=n-r}else{j=r-n;o=e(o.get().reverse())}this.$element.trigger("slideto.bs.visorcarousel",[t.$active,s]);var k=s;this.disableControls();this.disableSliding();for(q=0;q<j;q++){(function(){var u=m=e(o.get(q));u=f.ANIMATIONS[l].fold(t,u);if(!p){u=f.ANIMATIONS[l].raise(t,u.appendTo(t.$itemsParent))}else{u=f.ANIMATIONS[l].raise(t,u.prependTo(t.$itemsParent))}}())}i(m,function(){setTimeout(function(){b.call(t,k);t.$items=t.$itemsParent.children(".item");t.enableControls();t.enableSliding();t.$element.trigger("selected.bs.visorcarousel",[t.$active])},250)});return this};f.prototype.select=function(j,o){if(this.isSlidingDisabled()){return}o=(typeof o=="boolean"?o:false);var q=this.$items,m=this,l,k=0,p=0,n=0;if(e.isNumeric(j)){j=parseInt(j);if(o){k=q.filter(".active").index()+1;p=k+j;if(p<0){p=0}if(p>q.length){p=q.length}}else{n=q.filter(".active").data("iid");k=q.filter(".active").index()+1;if(j>n){p=k+j-n}else{p=k-n+j}}l=q.filter(":nth-child("+p+")")}else{l=q.filter(j)}this.$element.trigger("select.bs.visorcarousel",[this.$active,l]);this.slideTo(l);return this};f.prototype.enableControls=function(){this.$element.find("[data-slide], [data-slide-to], [data-slide-by]").removeClass("disabled");this.disabledControls=false};f.prototype.disableControls=function(){this.$element.find("[data-slide], [data-slide-to], [data-slide-by]").addClass("disabled");this.disabledControls=true};f.prototype.isControlsDisabled=function(){return this.disabledControls};f.prototype.enableSliding=function(){this.disabledSliding=false};f.prototype.disableSliding=function(){this.disabledSliding=true};f.prototype.isSlidingDisabled=function(){return this.disabledSliding};f.prototype.prev=function(){this.select(-1,true);return this};f.prototype.next=function(){this.select(1,true);return this};f.prototype.first=function(){this.select(0);return this};f.prototype.last=function(){this.select(this.lastItemIid);return this};f.prototype.pause=function(){if(this.slidingTimer){clearInterval(this.slidingTimer)}return this};f.prototype.cycle=function(){var j=this;if(this.options.interval==0){return}this.slidingTimer=setInterval(function(){if(!j.isSlidingDisabled()){j.select(1,true)}},this.options.interval);return this};f.prototype.setInterval=function(k){var j=this;if(this.slidingTimer){clearInterval(this.slidingTimer)}this.options.interval=k;if(this.options.interval==0){return this}this.slidingTimer=setInterval(function(){if(!j.isSlidingDisabled()){j.select(1,true)}},this.options.interval);return this};function h(j){return this.each(function(){var n=e(this);var m=n.data("bs.visorcarousel");var k=e.extend({},f.DEFAULTS,n.data(),typeof j=="object"&&j);var l=k.slide||false;if(!m){n.data("bs.visorcarousel",(m=new f(this,k)))}if(e.isPlainObject(j)){if(k.slide){m[l]()}else{if(typeof k.slideTo!="undefined"&&k.slideTo!==null){m.select(k.slideTo,false)}else{if(typeof k.slideBy!="undefined"&&k.slideBy!==null){m.select(k.slideBy,true)}}}}if(k.interval==0){m.pause()}else{m.pause().cycle()}})}var c=e.fn.visorCarousel;e.fn.visorcarousel=h;e.fn.visorcarousel.Constructor=f;e.fn.carousel.noConflict=function(){e.fn.carousel=c;return this};var g=function(o){var k;var n=e(this);var j=e(n.attr("data-target")||(k=n.attr("href"))&&k.replace(/.*(?=#[^\s]+$)/,""));if(!j.hasClass("visor-carousel")){return}var l=e.extend({},j.data(),n.data());var m=n.attr("data-slide-to")||n.attr("data-slide-by")||n.attr("data-slide")||false;if(m){l.interval=false}j.data("bs.visorcarousel").pause();h.call(j,l);o.preventDefault()};e(document).on("click.bs.visorcarousel.data-api","[data-slide]",g).on("click.bs.visorcarousel.data-api","[data-slide-to]",g).on("click.bs.visorcarousel.data-api","[data-slide-by]",g);e(window).on("load.bs.visorcarousel.data-api",function(){e('[data-ride="visor"]').each(function(){var j=e(this);h.call(j,j.data())})})}(jQuery);